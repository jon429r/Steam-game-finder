{% extends 'Base_Temp/Base.html' %}
{% load static %}

{% block title %}Home Page{% endblock %}

{% block main %}
<div id="Body">
    <h2 align="center">Welcome to Steam Game Finder</h2>
    <p align="center">Steam Game Finder is a website that allows you to find games on Steam that you might like.</p>

    {% include 'Extras/Search_Bar.html' with form=form %}
    {% if games %}
    <h2>Search Results</h2>
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Developer</th>
                <th>Publisher</th>
                <th>Price</th>
                <th>Like</th>
                <th>Dislike</th>
            </tr>
        </thead>
        <tbody>
            {% for game in games %}
                <tr>
                    <td><a href = "https://store.steampowered.com/app/{{ game.AppID }}" target="_blank">{{ game.Name }}</a></td>
                    <td>{{ game.Developer }}</td>
                    <td>{{ game.Publisher }}</td> 
                    <td>{{ game.Price }}</td>
                    <td> {% include 'Extras/Like_Button.html' with game_id=game.AppID %} </td>
                    <td> {% include 'Extras/Dislike_Button.html' with game_id=game.AppID %} </td> 
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}

{% if form.is_bound and not form.errors and games is not None and games|length == 0  %}
    {# Displayed only if there was a non succesful search #}
    <p>No matching games found. Please try different criteria.</p>
{% endif %}
</div>
{% endblock %}
